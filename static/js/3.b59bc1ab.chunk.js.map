{"version":3,"sources":["../node_modules/classnames/index.js","components/Common/SpanField/SpanField.jsx","components/Common/SpanField/SpanField.module.scss","components/Login/Login.module.scss","components/Login/Login.jsx","components/Login/LoginContainer.jsx"],"names":["hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","includes","key","call","join","module","exports","default","SpanField","props","validators","MaxLengthCreator","required","composeValidators","NotEmpty","isUrl","IsUrl","type","autoComplete","name","component","validate","input","meta","className","style","inputBlock","span","error","submitError","touched","placeholder","Login","console","log","useHistory","onSubmit","formData","a","LoginToAPI","email","password","rememberMe","captcha","FORM_ERROR","header","initialValues","render","handleSubmit","LoginForm","fetchingShield","isFetching","authInput","captchaUrl","alt","src","lastLine","RegAuth","target","href","submit","value","LoginContainer","this","isAuth","to","React","Component","mapDispatchToProps","compose","connect","state","Auth","userId"],"mappings":"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","file":"static/js/3.b59bc1ab.chunk.js","sourcesContent":["/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import React from 'react';\r\nimport {composeValidators, IsUrl, MaxLengthCreator, NotEmpty} from \"../../../utils/validators/fieldValidators\";\r\nimport style from \"./SpanField.module.scss\";\r\nimport {Field} from \"react-final-form\";\r\nimport classNames from \"classnames\";\r\n\r\nfunction SpanField(props) {\r\n\r\n    let validators=MaxLengthCreator(60)\r\n    if (props.required)\r\n        validators=composeValidators(NotEmpty,MaxLengthCreator(60))\r\n    if (props.isUrl)\r\n        validators=composeValidators(IsUrl,MaxLengthCreator(60))\r\n    return (\r\n        <Field type={props.type || \"text\"} autoComplete=\"off\" name={props.name} component={\"input\"}\r\n                validate={validators}>\r\n            {({ input, meta }) => (\r\n                <div className={classNames(style.inputBlock, props.className)}>\r\n                        {props.span && <div>{props.span}</div>}<div><input {...input} className={`${style.input} ${(meta.error || meta.submitError) && meta.touched && \"errorInput\"}`} autoComplete=\"false\" placeholder={props.placeholder || \"\"} /></div>\r\n                        {meta.error && meta.touched && <span className={`errorMessage`}>{meta.error}</span>}\r\n                        {meta.submitError && meta.touched && <span className={`errorMessage`}>{meta.submitError}</span>}\r\n                </div>\r\n            )}\r\n        </Field>\r\n    );\r\n}\r\n\r\nexport default SpanField;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputBlock\":\"SpanField_inputBlock__3seZH\",\"input\":\"SpanField_input__1gH1I\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Login\":\"Login_Login__1CfqT\",\"authInput\":\"Login_authInput__2ivLx\",\"RegAuth\":\"Login_RegAuth__nbrlR\",\"lastLine\":\"Login_lastLine__2X7R9\",\"fetchingShield\":\"Login_fetchingShield__1iIJs\",\"rememberMe\":\"Login_rememberMe__1aHRf\",\"LoginForm\":\"Login_LoginForm__Z66cc\",\"header\":\"Login_header__3Eoa1\",\"captcha\":\"Login_captcha__UQlaC\"};","\r\nimport style from \"./Login.module.scss\"\r\nimport {Field, Form} from \"react-final-form\";\r\nimport {NotEmpty} from \"../../utils/validators/fieldValidators\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {FORM_ERROR} from \"final-form\";\r\nimport SpanField from \"../Common/SpanField/SpanField\";\r\nimport React from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nconst Login = (props)=>{\r\n    console.log(props)\r\n    const history=useHistory()\r\n    let error = ''\r\n    const onSubmit = async (formData) =>{\r\n        error = await props.LoginToAPI(formData.email,formData.password,formData.rememberMe,formData.captcha)\r\n        console.log(error)\r\n        switch (error) {\r\n            case \"Incorrect Email or Password\":\r\n                return {[FORM_ERROR]: \"Неверный пароль или логин\"}\r\n            case \"Enter valid Email\":\r\n                return {email: \"Введите корректный EMail\"}\r\n            case \"Incorrect anti-bot symbols\":\r\n                return {[FORM_ERROR]: \"Проверьте правильность заполнения капчи\"}\r\n            default:\r\n                break\r\n        }\r\n    }\r\n\r\n    return <div className={`${style.Login} backgroundBlock`}>\r\n        <h3 className={style.header}>Авторизация</h3>\r\n\r\n        <Form onSubmit={onSubmit}\r\n              initialValues={{rememberMe: false}}\r\n        render={({handleSubmit, submitError})=>(\r\n            <form className={classNames([style.LoginForm,{[style.fetchingShield]:props.isFetching}])} onSubmit={handleSubmit}>\r\n                <SpanField className={style.authInput} required={true} name={\"email\"} span={\"EMail\"} placeholder={\"EMail\"}/>\r\n                <SpanField type={\"password\"} className={style.authInput} required={true} name={\"password\"} span={\"Пароль\"} placeholder={\"Пароль\"}/>\r\n                {props.captchaUrl && <div><img alt={\"captcha\"} className={style.captcha} src={props.captchaUrl}/>\r\n                    <SpanField className={style.authInput} required={true} name={\"captcha\"}/></div>}\r\n                {submitError && <span className={\"errorMessage\"}>{submitError}</span>}\r\n                <div className={style.lastLine}><div className={style.rememberMe}><label>Запомнить меня </label><Field name=\"rememberMe\" component={\"input\"} type={\"checkbox\"} className={\"checkbox\"}/></div><div className={style.RegAuth}><a target={\"_blank\"} href={\"https://social-network.samuraijs.com/signUp\"}><div className={`Button ${style.submit}`}>Регистрация</div></a><input type={\"submit\"} className={classNames(['Button'])} value={\"Войти\"}/></div></div>\r\n            </form>\r\n        )}/>\r\n    </div>\r\n}\r\nexport default Login","import Login from './Login'\r\nimport {connect} from 'react-redux'\r\nimport React from 'react'\r\nimport {compose} from \"redux\";\r\nimport {LoginToAPI} from \"../../Redux/AuthReducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nclass LoginContainer extends React.Component{\r\n    componentDidMount(){\r\n\r\n    }\r\n    render(){\r\n        if (this.props.isAuth){\r\n            return <Redirect to={\"/edit_profile\"}/>\r\n        }\r\n        return(\r\n            <Login {...this.props}/>\r\n        )\r\n    }\r\n}\r\nlet mapStateToProps = (state) => ({\r\n    isAuth: state.Auth.isAuth,\r\n    userId: state.Auth.userId,\r\n    captchaUrl: state.Auth.captchaUrl,\r\n    isFetching: state.Auth.isFetching\r\n})\r\nlet mapDispatchToProps = {\r\n    LoginToAPI\r\n}\r\nexport default compose(\r\n    connect(mapStateToProps,mapDispatchToProps)\r\n)(LoginContainer)"],"sourceRoot":""}