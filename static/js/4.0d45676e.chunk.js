(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{230:function(t,e,o){"use strict";var a=o(2),n=(o(1),o(70)),s=o(231),i=o.n(s),c=o(34),r=o(232),u=o.n(r),l=o(0);e.a=function(t){var e=Object(n.b)(60);return t.required&&(e=Object(n.d)(n.c,Object(n.b)(60))),t.isUrl&&(e=Object(n.d)(n.a,Object(n.b)(60))),Object(l.jsx)(c.a,{type:t.type||"text",autoComplete:"off",name:t.name,component:"input",validate:e,children:function(e){var o=e.input,n=e.meta;return Object(l.jsxs)("div",{className:u()(i.a.inputBlock,t.className),children:[t.span&&Object(l.jsx)("div",{children:t.span}),Object(l.jsx)("div",{children:Object(l.jsx)("input",Object(a.a)(Object(a.a)({},o),{},{className:"".concat(i.a.input," ").concat((n.error||n.submitError)&&n.touched&&"errorInput"),autoComplete:"false",placeholder:t.placeholder||""}))}),n.error&&n.touched&&Object(l.jsx)("span",{className:"errorMessage",children:n.error}),n.submitError&&n.touched&&Object(l.jsx)("span",{className:"errorMessage",children:n.submitError})]})}})}},231:function(t,e,o){t.exports={inputBlock:"SpanField_inputBlock__35uAM",input:"SpanField_input__LJgq_"}},233:function(t,e,o){t.exports={EditProfile:"EditProfile_EditProfile__TB5L8",photoContainer:"EditProfile_photoContainer__39Lp_",choosePhotoSpan:"EditProfile_choosePhotoSpan__1HyfT",choosePhotoInput:"EditProfile_choosePhotoInput__3ezpf",profilePhoto:"EditProfile_profilePhoto__2gi28",info:"EditProfile_info__XTu2R",form:"EditProfile_form__2JE_-",apply:"EditProfile_apply__1ocSw",buttonsBlock:"EditProfile_buttonsBlock__2YDGf",saved:"EditProfile_saved__2KSKv",save:"EditProfile_save__1L6kA"}},241:function(t,e,o){"use strict";o.r(e);var a=o(2),n=o(29),s=o(24),i=o(233),c=o.n(i),r=o(1),u=o.n(r),l=o(25),b=o(7),j=o(8),p=o(5),m=o(34),f=o(239),d=o(0),h=function(t){var e=Object(r.useState)(),o=Object(s.a)(e,2),i=o[0],u=o[1],l=Object(f.a)({accept:"image/*",multiple:!1,noDrag:!0,onDrop:function(e){var o=Object(n.a)(e);u(o),t.onChange&&t.onChange(o)}}),b=l.getRootProps,j=l.getInputProps,p=Object(r.useState)(),m=Object(s.a)(p,2),h=m[0],O=m[1];return Object(r.useEffect)((function(){if(i)1!==i.length||i[0].type.includes("gif")||O(URL.createObjectURL(i[0]));else{var e=t.photos.large?t.photos.large:"https://gotrening.com/wp-content/uploads/2021/04/user.png";O(e)}}),[i]),Object(d.jsxs)("div",Object(a.a)(Object(a.a)({},b({className:"dropzone"})),{},{children:[Object(d.jsx)("img",{className:c.a.profilePhoto,src:h,alt:"your profile image"}),Object(d.jsx)("input",Object(a.a)({className:"choosePhotoInput",id:"choosePhotoInput"},j())),Object(d.jsx)("span",{className:c.a.choosePhotoSpan,children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u043e\u0442\u043e"})]}))},O=o(230),g=function(t){var e=t.profile,o=t.userId,n=t.isFetching,s=t.LogoutFromAPI,i=t.ApplyChanges,r=t.saved;return o?n?Object(d.jsx)("div",{className:"".concat(c.a.EditProfile," backgroundBlock"),children:Object(d.jsx)(l.a,{})}):Object(d.jsxs)("div",{className:"".concat(c.a.EditProfile," backgroundBlock"),children:[Object(d.jsx)(b.a,{text:e.fullName}),Object(d.jsx)(m.b,{onSubmit:i,initialValues:{status:e.status,lookingForAJob:e.lookingForAJob,fullName:e.fullName,lookingForAJobDescription:e.lookingForAJobDescription,aboutMe:e.aboutMe,website:e.contacts.website,github:e.contacts.github,vk:e.contacts.vk,youtube:e.contacts.youtube,facebook:e.contacts.facebook,twitter:e.contacts.twitter,instagram:e.contacts.instagram,mainLink:e.contacts.mainLink},render:function(t){var o=t.handleSubmit;t.values;return Object(d.jsxs)("form",{className:c.a.form,onSubmit:o,children:[Object(d.jsx)("div",{className:c.a.photoContainer,children:Object(d.jsx)(m.a,{name:"photo",className:c.a.choosePhotoInput,component:"input",type:"file",children:function(t){return Object(d.jsx)(h,Object(a.a)(Object(a.a)({},t.input),{},{photos:e.photos}))}})}),Object(d.jsx)(O.a,{name:"status",span:"\u0421\u0442\u0430\u0442\u0443\u0441"}),Object(d.jsx)(O.a,{name:"aboutMe",span:"\u041e\u0431\u043e \u043c\u043d\u0435",required:!0}),Object(d.jsx)(O.a,{name:"fullName",span:"\u0418\u043c\u044f",required:!0}),Object(d.jsx)(O.a,{name:"website",span:"\u0412\u0435\u0431-\u0441\u0430\u0439\u0442",isUrl:!0}),Object(d.jsx)(O.a,{name:"github",span:"GitHub",isUrl:!0}),Object(d.jsx)(O.a,{name:"vk",span:"\u0412\u041a",isUrl:!0}),Object(d.jsx)(O.a,{name:"youtube",span:"Youtube",isUrl:!0}),Object(d.jsx)(O.a,{name:"facebook",span:"Facebook",isUrl:!0}),Object(d.jsx)(O.a,{name:"twitter",span:"Twitter",isUrl:!0}),Object(d.jsx)(O.a,{name:"instagram",span:"Instagram",isUrl:!0}),Object(d.jsx)(O.a,{name:"mainLink",span:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430",isUrl:!0}),Object(d.jsxs)("div",{className:c.a.info,children:["\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443: ",Object(d.jsx)(m.a,{className:"checkbox",name:"lookingForAJob",component:"input",type:"checkbox"})]}),Object(d.jsx)(O.a,{name:"lookingForAJobDescription",span:"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0432\u044b\u043a\u0438",required:!0}),Object(d.jsxs)("div",{className:c.a.buttonsBlock,children:[Object(d.jsx)("input",{type:"submit",className:"".concat(c.a.apply," Button"),value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(d.jsx)(p.b,{to:"/user/"+e.userId+"/",children:Object(d.jsx)("input",{type:"button",className:"".concat(c.a.apply," Button"),value:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(d.jsx)(b.a,{className:"".concat(c.a.apply," Button"),onClick:s,text:"\u0412\u044b\u0439\u0442\u0438"}),r?Object(d.jsx)("div",{className:c.a.saved,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e"}):null]})]})}})]}):Object(d.jsx)(j.a,{to:"/login"})},x=o(10),k=o(20),_=o(21),v=o(35),P=function(t){return{isAuth:t.Auth.isAuth}},N=function(t){return Object(x.b)(P)((function(e){return e.isAuth?Object(d.jsx)(t,Object(a.a)({},e)):Object(d.jsx)(j.a,{to:"login"})}))},y=u.a.memo((function(t){var e=Object(r.useState)(!1),o=Object(s.a)(e,2),i=o[0],c=o[1];return Object(r.useLayoutEffect)((function(){t.GetUser(t.userId)}),[t.userId]),Object(d.jsx)(g,Object(a.a)(Object(a.a)({},t),{},{saved:i,ApplyChanges:function(e){if(e.status!==t.status&&t.SetStatus(e.status),e.photo){var o=Object(n.a)(e.photo)[0];t.SetPhoto(o)}t.profile.fullName!==e.fullName&&t.ChangeLogin(e.fullName);var a={userId:t.userId,lookingForAJob:e.lookingForAJob,aboutMe:e.aboutMe,lookingForAJobDescription:e.lookingForAJobDescription,fullName:e.fullName,contacts:{github:e.github,vk:e.vk,facebook:e.facebook,instagram:e.instagram,twitter:e.twitter,youtube:e.youtube,mainLink:e.mainLink,website:e.website}};t.SetProfile(a),c(!0),setTimeout((function(){c(!1)}),2e3)}}))}),(function(t,e){return t.userId===e.userId&&t.isFetching===e.isFetching})),F={GetUser:_.g,SetStatus:_.j,SetPhoto:_.h,LogoutFromAPI:v.d,SetProfile:_.i,ChangeLogin:v.a};e.default=Object(k.compose)(Object(x.b)((function(t){return{profile:t.Profile.profile,userId:t.Auth.userId,isFetching:t.Profile.isFetching,isGettingFollowed:t.Profile.isGettingFollowed}}),F),N)(y)}}]);
//# sourceMappingURL=4.0d45676e.chunk.js.map