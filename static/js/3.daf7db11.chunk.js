(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{213:function(t,e,o){t.exports={EditProfile:"EditProfile_EditProfile__TB5L8",photoContainer:"EditProfile_photoContainer__39Lp_",choosePhotoSpan:"EditProfile_choosePhotoSpan__1HyfT",choosePhotoInput:"EditProfile_choosePhotoInput__3ezpf",profilePhoto:"EditProfile_profilePhoto__2gi28",info:"EditProfile_info__XTu2R",form:"EditProfile_form__2JE_-",apply:"EditProfile_apply__1ocSw",buttonsBlock:"EditProfile_buttonsBlock__2YDGf",saved:"EditProfile_saved__2KSKv",save:"EditProfile_save__1L6kA",statusInputBlock:"EditProfile_statusInputBlock__38OcY",statusInput:"EditProfile_statusInput__2l2bC"}},216:function(t,e,o){t.exports={info:"SpanField_info__dT0ko",inputBlock:"SpanField_inputBlock__35uAM",input:"SpanField_input__LJgq_"}},219:function(t,e,o){"use strict";o.r(e);var a=o(2),n=o(27),s=o(38),i=o(213),c=o.n(i),r=o(1),u=o.n(r),l=o(24),b=o(6),j=o(7),p=o(5),f=o(33),d=o(217),h=o(0),m=function(t){var e=Object(r.useState)(),o=Object(s.a)(e,2),i=o[0],u=o[1],l=Object(d.a)({accept:"image/*",multiple:!1,noDrag:!0,onDrop:function(e){var o=Object(n.a)(e);u(o),t.onChange&&t.onChange(o)}}),b=l.getRootProps,j=l.getInputProps,p=Object(r.useState)(),f=Object(s.a)(p,2),m=f[0],O=f[1];return Object(r.useEffect)((function(){if(i)1!==i.length||i[0].type.includes("gif")||O(URL.createObjectURL(i[0]));else{var e=t.photos.large?t.photos.large:"https://gotrening.com/wp-content/uploads/2021/04/user.png";O(e)}}),[i]),Object(h.jsxs)("div",Object(a.a)(Object(a.a)({},b({className:"dropzone"})),{},{children:[Object(h.jsx)("img",{className:c.a.profilePhoto,src:m,alt:"your profile image"}),Object(h.jsx)("input",Object(a.a)({className:"choosePhotoInput",id:"choosePhotoInput"},j())),Object(h.jsx)("span",{className:c.a.choosePhotoSpan,children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u043e\u0442\u043e"})]}))},O=o(67),g=o(216),x=o.n(g);var _=function(t){var e=Object(O.b)(60);return t.required&&(e=Object(O.d)(O.c,Object(O.b)(60))),t.isUrl&&(e=Object(O.d)(O.a,Object(O.b)(60))),Object(h.jsx)(f.a,{name:t.name,component:"input",type:"text",autocomplete:"off",validate:e,children:function(e){var o=e.input,n=e.meta;return Object(h.jsx)("div",{className:x.a.inputBlock,children:Object(h.jsxs)("div",{className:x.a.info,children:[Object(h.jsxs)("div",{children:[t.span,":"]}),Object(h.jsx)("div",{children:Object(h.jsx)("input",Object(a.a)(Object(a.a)({},o),{},{className:"".concat(x.a.input," ").concat(n.error&&n.touched&&"errorInput"),type:"text",autoComplete:"false",placeholder:t.placeholder||""}))}),n.error&&n.touched&&Object(h.jsx)("span",{className:"errorMessage ".concat(x.a.info),children:n.error})]})})}})},k=function(t){var e=t.profile,o=t.userId,n=t.isFetching,s=t.LogoutFromAPI,i=t.ApplyChanges,r=t.saved;if(!o)return Object(h.jsx)(j.a,{to:"/login"});if(n)return Object(h.jsx)("div",{className:"".concat(c.a.EditProfile," backgroundBlock"),children:Object(h.jsx)(l.a,{})});return e.lookingForAJob?"\u0418\u0449\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443":"\u041d\u0435 \u0438\u0449\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443",Object(h.jsxs)("div",{className:"".concat(c.a.EditProfile," backgroundBlock"),children:[Object(h.jsx)(b.a,{text:e.fullName}),Object(h.jsx)(f.b,{onSubmit:i,initialValues:{status:e.status,lookingForAJob:e.lookingForAJob,fullName:e.fullName,lookingForAJobDescription:e.lookingForAJobDescription,aboutMe:e.aboutMe,website:e.contacts.website,github:e.contacts.github,vk:e.contacts.vk,youtube:e.contacts.youtube,facebook:e.contacts.facebook,twitter:e.contacts.twitter,instagram:e.contacts.instagram,mainLink:e.contacts.mainLink},render:function(t){var o=t.handleSubmit;t.values;return Object(h.jsxs)("form",{className:c.a.form,onSubmit:o,children:[Object(h.jsx)("div",{className:c.a.photoContainer,children:Object(h.jsx)(f.a,{name:"photo",className:c.a.choosePhotoInput,component:"input",type:"file",children:function(t){return Object(h.jsx)(m,Object(a.a)(Object(a.a)({},t.input),{},{photos:e.photos}))}})}),Object(h.jsx)(_,{name:"status",span:"\u0421\u0442\u0430\u0442\u0443\u0441"}),Object(h.jsx)(_,{name:"aboutMe",span:"\u041e\u0431\u043e \u043c\u043d\u0435",required:!0}),Object(h.jsx)(_,{name:"fullName",span:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f",required:!0}),Object(h.jsx)(_,{name:"website",span:"\u0412\u0435\u0431-\u0441\u0430\u0439\u0442",isUrl:!0}),Object(h.jsx)(_,{name:"github",span:"GitHub",isUrl:!0}),Object(h.jsx)(_,{name:"vk",span:"\u0412\u041a",isUrl:!0}),Object(h.jsx)(_,{name:"youtube",span:"Youtube",isUrl:!0}),Object(h.jsx)(_,{name:"facebook",span:"Facebook",isUrl:!0}),Object(h.jsx)(_,{name:"twitter",span:"Twitter",isUrl:!0}),Object(h.jsx)(_,{name:"instagram",span:"Instagram",isUrl:!0}),Object(h.jsx)(_,{name:"mainLink",span:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430",isUrl:!0}),Object(h.jsxs)("div",{className:c.a.info,children:["\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443: ",Object(h.jsx)(f.a,{className:"checkbox",name:"lookingForAJob",component:"input",type:"checkbox"})]}),Object(h.jsx)(_,{name:"lookingForAJobDescription",span:"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0432\u044b\u043a\u0438",required:!0}),Object(h.jsxs)("div",{className:c.a.buttonsBlock,children:[Object(h.jsx)("input",{type:"submit",className:"".concat(c.a.apply," Button"),value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(h.jsx)(p.b,{to:"/user/"+e.userId,children:Object(h.jsx)("input",{type:"button",className:"".concat(c.a.apply," Button"),value:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(h.jsx)(b.a,{className:"".concat(c.a.apply," Button"),onClick:s,text:"\u0412\u044b\u0439\u0442\u0438"}),r?Object(h.jsx)("div",{className:c.a.saved,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e"}):Object(h.jsx)("div",{})]})]})}})]})},v=o(13),P=o(20),N=o(21),y=o(32),F=function(t){return{isAuth:t.Auth.isAuth}},I=function(t){return Object(v.b)(F)((function(e){return e.isAuth?Object(h.jsx)(t,Object(a.a)({},e)):Object(h.jsx)(j.a,{to:"login"})}))},A=u.a.memo((function(t){var e=Object(r.useState)(!1),o=Object(s.a)(e,2),i=o[0],c=o[1];return Object(r.useLayoutEffect)((function(){t.GetUser(t.userId)}),[t.userId]),Object(h.jsx)(k,Object(a.a)(Object(a.a)({},t),{},{saved:i,ApplyChanges:function(e){if(e.status!==t.status&&t.SetStatus(e.status),e.photo){var o=Object(n.a)(e.photo)[0];t.SetPhoto(o)}var a={userId:t.userId,lookingForAJob:e.lookingForAJob,aboutMe:e.aboutMe,lookingForAJobDescription:e.lookingForAJobDescription,fullName:e.fullName,contacts:{github:e.github,vk:e.vk,facebook:e.facebook,instagram:e.instagram,twitter:e.twitter,youtube:e.youtube,mainLink:e.mainLink,website:e.website}};t.SetProfile(a),c(!0),setTimeout((function(){c(!1)}),2e3)}}))}),(function(t,e){return t.userId===e.userId&&t.isFetching===e.isFetching})),S={GetUser:N.g,SetStatus:N.j,SetPhoto:N.h,LogoutFromAPI:y.c,SetProfile:N.i};e.default=Object(P.compose)(Object(v.b)((function(t){return{profile:t.Profile.profile,userId:t.Auth.userId,isFetching:t.Profile.isFetching,isGettingFollowed:t.Profile.isGettingFollowed}}),S),I)(A)}}]);
//# sourceMappingURL=3.daf7db11.chunk.js.map