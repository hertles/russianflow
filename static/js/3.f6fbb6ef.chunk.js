(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[3],{214:function(t,e,o){t.exports={EditProfile:"EditProfile_EditProfile__TB5L8",photoContainer:"EditProfile_photoContainer__39Lp_",choosePhotoSpan:"EditProfile_choosePhotoSpan__1HyfT",choosePhotoInput:"EditProfile_choosePhotoInput__3ezpf",profilePhoto:"EditProfile_profilePhoto__2gi28",info:"EditProfile_info__XTu2R",form:"EditProfile_form__2JE_-",apply:"EditProfile_apply__1ocSw",buttonsBlock:"EditProfile_buttonsBlock__2YDGf",saved:"EditProfile_saved__2KSKv",save:"EditProfile_save__1L6kA"}},217:function(t,e,o){t.exports={info:"SpanField_info__dT0ko",inputBlock:"SpanField_inputBlock__35uAM",input:"SpanField_input__LJgq_"}},220:function(t,e,o){"use strict";o.r(e);var a=o(2),n=o(28),i=o(24),s=o(214),c=o.n(s),r=o(1),u=o.n(r),l=o(25),b=o(6),j=o(7),p=o(5),f=o(34),d=o(218),m=o(0),h=function(t){var e=Object(r.useState)(),o=Object(i.a)(e,2),s=o[0],u=o[1],l=Object(d.a)({accept:"image/*",multiple:!1,noDrag:!0,onDrop:function(e){var o=Object(n.a)(e);u(o),t.onChange&&t.onChange(o)}}),b=l.getRootProps,j=l.getInputProps,p=Object(r.useState)(),f=Object(i.a)(p,2),h=f[0],O=f[1];return Object(r.useEffect)((function(){if(s)1!==s.length||s[0].type.includes("gif")||O(URL.createObjectURL(s[0]));else{var e=t.photos.large?t.photos.large:"https://gotrening.com/wp-content/uploads/2021/04/user.png";O(e)}}),[s]),Object(m.jsxs)("div",Object(a.a)(Object(a.a)({},b({className:"dropzone"})),{},{children:[Object(m.jsx)("img",{className:c.a.profilePhoto,src:h,alt:"your profile image"}),Object(m.jsx)("input",Object(a.a)({className:"choosePhotoInput",id:"choosePhotoInput"},j())),Object(m.jsx)("span",{className:c.a.choosePhotoSpan,children:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u043e\u0442\u043e"})]}))},O=o(68),g=o(217),x=o.n(g);var _=function(t){var e=Object(O.b)(60);return t.required&&(e=Object(O.d)(O.c,Object(O.b)(60))),t.isUrl&&(e=Object(O.d)(O.a,Object(O.b)(60))),Object(m.jsx)(f.a,{autoComplete:"off",name:t.name,component:"input",type:"text",validate:e,children:function(e){var o=e.input,n=e.meta;return Object(m.jsx)("div",{className:x.a.inputBlock,children:Object(m.jsxs)("div",{className:x.a.info,children:[Object(m.jsxs)("div",{children:[t.span,":"]}),Object(m.jsx)("div",{children:Object(m.jsx)("input",Object(a.a)(Object(a.a)({},o),{},{className:"".concat(x.a.input," ").concat(n.error&&n.touched&&"errorInput"),type:"text",autoComplete:"false",placeholder:t.placeholder||""}))}),n.error&&n.touched&&Object(m.jsx)("span",{className:"errorMessage ".concat(x.a.info),children:n.error})]})})}})},k=function(t){var e=t.profile,o=t.userId,n=t.isFetching,i=t.LogoutFromAPI,s=t.ApplyChanges,r=t.saved;return o?n?Object(m.jsx)("div",{className:"".concat(c.a.EditProfile," backgroundBlock"),children:Object(m.jsx)(l.a,{})}):Object(m.jsxs)("div",{className:"".concat(c.a.EditProfile," backgroundBlock"),children:[Object(m.jsx)(b.a,{text:e.fullName}),Object(m.jsx)(f.b,{onSubmit:s,initialValues:{status:e.status,lookingForAJob:e.lookingForAJob,fullName:e.fullName,lookingForAJobDescription:e.lookingForAJobDescription,aboutMe:e.aboutMe,website:e.contacts.website,github:e.contacts.github,vk:e.contacts.vk,youtube:e.contacts.youtube,facebook:e.contacts.facebook,twitter:e.contacts.twitter,instagram:e.contacts.instagram,mainLink:e.contacts.mainLink},render:function(t){var o=t.handleSubmit;t.values;return Object(m.jsxs)("form",{className:c.a.form,onSubmit:o,children:[Object(m.jsx)("div",{className:c.a.photoContainer,children:Object(m.jsx)(f.a,{name:"photo",className:c.a.choosePhotoInput,component:"input",type:"file",children:function(t){return Object(m.jsx)(h,Object(a.a)(Object(a.a)({},t.input),{},{photos:e.photos}))}})}),Object(m.jsx)(_,{name:"status",span:"\u0421\u0442\u0430\u0442\u0443\u0441"}),Object(m.jsx)(_,{name:"aboutMe",span:"\u041e\u0431\u043e \u043c\u043d\u0435",required:!0}),Object(m.jsx)(_,{name:"fullName",span:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f",required:!0}),Object(m.jsx)(_,{name:"website",span:"\u0412\u0435\u0431-\u0441\u0430\u0439\u0442",isUrl:!0}),Object(m.jsx)(_,{name:"github",span:"GitHub",isUrl:!0}),Object(m.jsx)(_,{name:"vk",span:"\u0412\u041a",isUrl:!0}),Object(m.jsx)(_,{name:"youtube",span:"Youtube",isUrl:!0}),Object(m.jsx)(_,{name:"facebook",span:"Facebook",isUrl:!0}),Object(m.jsx)(_,{name:"twitter",span:"Twitter",isUrl:!0}),Object(m.jsx)(_,{name:"instagram",span:"Instagram",isUrl:!0}),Object(m.jsx)(_,{name:"mainLink",span:"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430",isUrl:!0}),Object(m.jsxs)("div",{className:c.a.info,children:["\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443: ",Object(m.jsx)(f.a,{className:"checkbox",name:"lookingForAJob",component:"input",type:"checkbox"})]}),Object(m.jsx)(_,{name:"lookingForAJobDescription",span:"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0432\u044b\u043a\u0438",required:!0}),Object(m.jsxs)("div",{className:c.a.buttonsBlock,children:[Object(m.jsx)("input",{type:"submit",className:"".concat(c.a.apply," Button"),value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),Object(m.jsx)(p.b,{to:"/user/"+e.userId+"/",children:Object(m.jsx)("input",{type:"button",className:"".concat(c.a.apply," Button"),value:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(m.jsx)(b.a,{className:"".concat(c.a.apply," Button"),onClick:i,text:"\u0412\u044b\u0439\u0442\u0438"}),r?Object(m.jsx)("div",{className:c.a.saved,children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e"}):null]})]})}})]}):Object(m.jsx)(j.a,{to:"/login"})},v=o(9),P=o(20),N=o(21),y=o(33),F=function(t){return{isAuth:t.Auth.isAuth}},S=function(t){return Object(v.b)(F)((function(e){return e.isAuth?Object(m.jsx)(t,Object(a.a)({},e)):Object(m.jsx)(j.a,{to:"login"})}))},A=u.a.memo((function(t){var e=Object(r.useState)(!1),o=Object(i.a)(e,2),s=o[0],c=o[1];return Object(r.useLayoutEffect)((function(){t.GetUser(t.userId)}),[t.userId]),Object(m.jsx)(k,Object(a.a)(Object(a.a)({},t),{},{saved:s,ApplyChanges:function(e){if(e.status!==t.status&&t.SetStatus(e.status),e.photo){var o=Object(n.a)(e.photo)[0];t.SetPhoto(o)}t.profile.fullName!==e.fullName&&t.ChangeLogin(e.fullName);var a={userId:t.userId,lookingForAJob:e.lookingForAJob,aboutMe:e.aboutMe,lookingForAJobDescription:e.lookingForAJobDescription,fullName:e.fullName,contacts:{github:e.github,vk:e.vk,facebook:e.facebook,instagram:e.instagram,twitter:e.twitter,youtube:e.youtube,mainLink:e.mainLink,website:e.website}};t.SetProfile(a),c(!0),setTimeout((function(){c(!1)}),2e3)}}))}),(function(t,e){return t.userId===e.userId&&t.isFetching===e.isFetching})),I={GetUser:N.g,SetStatus:N.j,SetPhoto:N.h,LogoutFromAPI:y.d,SetProfile:N.i,ChangeLogin:y.a};e.default=Object(P.compose)(Object(v.b)((function(t){return{profile:t.Profile.profile,userId:t.Auth.userId,isFetching:t.Profile.isFetching,isGettingFollowed:t.Profile.isGettingFollowed}}),I),S)(A)}}]);
//# sourceMappingURL=3.f6fbb6ef.chunk.js.map